import{_ as s,S as n,N as a,Q as l}from"./chunks/framework.f9c570e8.js";const p="/simpleadmin-doc/build/login.png",m=JSON.parse('{"title":"构建部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/web/start_web/build.md","filePath":"guide/web/start_web/build.md","lastUpdated":1712133033000}'),e={name:"guide/web/start_web/build.md"},o=l(`<h1 id="构建部署" tabindex="-1">构建部署 <a class="header-anchor" href="#构建部署" aria-label="Permalink to &quot;构建部署&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">提示</p><p>本项目采用nginx部署，如果你不熟悉nginx的配置，请先学习nginx的基本配置。</p></div><h2 id="打包项目" tabindex="-1">打包项目 <a class="header-anchor" href="#打包项目" aria-label="Permalink to &quot;打包项目&quot;">​</a></h2><p>通过<code>pnpm</code>命令打包项目，生成<code>dist</code>文件夹。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build:pro</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装nginx" tabindex="-1">安装Nginx <a class="header-anchor" href="#安装nginx" aria-label="Permalink to &quot;安装Nginx&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>如果你已经安装了Nginx，请跳过此步骤。</li><li>服务器安装nginx，nginx安装步骤根据操作系统自行百度。 <a href="http://nginx.org/en/download.html" target="_blank" rel="noreferrer">nginx下载地址</a></li></ul></div><h2 id="配置nginx" tabindex="-1">配置Nginx <a class="header-anchor" href="#配置nginx" aria-label="Permalink to &quot;配置Nginx&quot;">​</a></h2><ol><li>进入nginx目录的<code>conf</code>文件夹，新建<code>conf.d</code>文件夹，方便我们配置文件分类。</li><li>打开nginx.conf在http 配置里加上 include conf.d/*.conf;这样nginx就会去读取conf.d目录下的配置文件。</li><li>进入conf.d目录，新建<code>simpleadmin.conf</code>填入以下配置</li></ol><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#F97583;">server</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;"> listen </span><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">54321</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;"> server_name </span><span style="color:#E1E4E8;"> localhost;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">location</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">/ </span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">           </span><span style="color:#F97583;"> root </span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;D:</span><span style="color:#79B8FF;">\\\\</span><span style="color:#9ECBFF;">nginx-1.20.2</span><span style="color:#79B8FF;">\\\\</span><span style="color:#9ECBFF;">web</span><span style="color:#79B8FF;">\\\\</span><span style="color:#9ECBFF;">simple</span><span style="color:#79B8FF;">\\\\</span><span style="color:#9ECBFF;">dist&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">	try_files </span><span style="color:#E1E4E8;">$uri $uri/ @router;</span></span>
<span class="line"><span style="color:#E1E4E8;">           </span><span style="color:#F97583;"> index </span><span style="color:#E1E4E8;"> index.html index.htm;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">	error_page </span><span style="color:#E1E4E8;">405 </span><span style="color:#79B8FF;">=200</span><span style="color:#E1E4E8;"> http://$host$request_uri;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">	   </span><span style="color:#6A737D;">#压缩chunk-vendors.js,加快首次加载得速度</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#F97583;"> gzip </span><span style="color:#E1E4E8;">on;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;"> gzip_min_length </span><span style="color:#E1E4E8;">1k;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;"> gzip_comp_level </span><span style="color:#E1E4E8;">9;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;"> gzip_types </span><span style="color:#E1E4E8;">text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;"> gzip_vary </span><span style="color:#E1E4E8;">on;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;"> gzip_disable </span><span style="color:#9ECBFF;">&quot;MSIE [1-6]\\.&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	   </span><span style="color:#6A737D;">#代理后端接口</span></span>
<span class="line"><span style="color:#E1E4E8;">	   </span><span style="color:#F97583;">location</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">/api/ </span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">	proxy_pass </span><span style="color:#E1E4E8;">http://192.168.1.16:18000;   </span><span style="color:#6A737D;">#转发请求的后端地址</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">rewrite</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">^/api/(.*)$</span><span style="color:#E1E4E8;"> /$1 </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		}</span></span>
<span class="line"><span style="color:#E1E4E8;">	   </span><span style="color:#F97583;">location</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@router </span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">rewrite</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">^.*$</span><span style="color:#E1E4E8;"> /index.html</span><span style="color:#79B8FF;"> last</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;"> error_page </span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">502</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">503</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">504</span><span style="color:#E1E4E8;">  /50x.html;</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;">location</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">/50x.html </span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">           </span><span style="color:#F97583;"> root </span><span style="color:#E1E4E8;">  html;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="启动nginx" tabindex="-1">启动Nginx <a class="header-anchor" href="#启动nginx" aria-label="Permalink to &quot;启动Nginx&quot;">​</a></h2><p>cmd到nginx安装目录，执行命令<code>start nginx</code>,访问前端地址，如果能够访问前端页面则表示前端部署成功。 <img src="`+p+'" alt="login.png" data-fancybox="gallery"></p>',12),r=[o];function t(c,i,E,y,b,d){return n(),a("div",null,r)}const F=s(e,[["render",t]]);export{m as __pageData,F as default};
